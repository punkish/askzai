import{$,$$}from"./utils.js";export class Router{constructor(t){this.routes=t,this._loadInitialRoute(),window.addEventListener("popstate",()=>this._loadRoute())}_loadInitialRoute(){const t=window.location.pathname;this._navigate(t,!1)}_navigate(t,o=!0){"/"===t&&(t="/index.html");const e=this.routes.find(o=>o.path===t);e?(o&&window.history.pushState({},"",t),e.component()):console.log(`Route not found: ${t}`)}_loadRoute(){const t=window.location.pathname;this._navigate(t,!1)}navigateTo(t){this._navigate(t)}listen(){this.routes.forEach(t=>{const o=t.link;o.addEventListener("click",t=>{t.preventDefault();const e=o.getAttribute("href");this.navigateTo(e)})})}}export function reroute(t){$$("section").forEach(t=>{t.classList.add("is-hidden")});const o=$(`section#${t}`);o&&o.classList.remove("is-hidden")}